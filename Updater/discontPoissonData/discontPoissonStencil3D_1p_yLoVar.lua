local Lin = require("Lib.Linalg")
local function stencilFn(dx, D, N, val)
  local _M = {}

  _M[1] = Lin.Vec(8)
  _M[1][1] = (-144.0/(50.91168824543144*dx[2]^2*N-11.31370849898477*dx[2]^2*D))*val[1] +(0.0)*val[2] +(0.0)*val[3] +(0.0)*val[4]
  _M[1][2] = (0.0)*val[1] +(-144.0/(50.91168824543144*dx[2]^2*N-11.31370849898477*dx[2]^2*D))*val[2] +(0.0)*val[3] +(0.0)*val[4]
  _M[1][3] = (193.9896904477143/(50.91168824543144*dx[2]^2*N-11.31370849898477*dx[2]^2*D))*val[1] +(0.0)*val[2] +(0.0)*val[3] +(0.0)*val[4]
  _M[1][4] = (0.0)*val[1] +(0.0)*val[2] +(-144.0/(50.91168824543144*dx[2]^2*N-11.31370849898477*dx[2]^2*D))*val[3] +(0.0)*val[4]
  _M[1][5] = (0.0)*val[1] +(193.9896904477143/(50.91168824543144*dx[2]^2*N-11.31370849898477*dx[2]^2*D))*val[2] +(0.0)*val[3] +(0.0)*val[4]
  _M[1][6] = (0.0)*val[1] +(0.0)*val[2] +(0.0)*val[3] +(-144.0/(50.91168824543144*dx[2]^2*N-11.31370849898477*dx[2]^2*D))*val[4]
  _M[1][7] = (0.0)*val[1] +(0.0)*val[2] +(193.9896904477143/(50.91168824543144*dx[2]^2*N-11.31370849898477*dx[2]^2*D))*val[3] +(0.0)*val[4]
  _M[1][8] = (0.0)*val[1] +(0.0)*val[2] +(0.0)*val[3] +(193.9896904477143/(50.91168824543144*dx[2]^2*N-11.31370849898477*dx[2]^2*D))*val[4]
  _M[2] = Lin.Mat(8,8)
  _M[2][1][1] = -(1.0*(324.0*N-312.0*D))/(144.0*dx[2]^2*N-32.0*dx[2]^2*D)
  _M[2][1][2] = 0.0
  _M[2][1][3] = -(1.0*(155.8845726811989*N+214.7743001385408*D))/(72.0*dx[2]^2*N-16.0*dx[2]^2*D)
  _M[2][1][4] = 0.0
  _M[2][1][5] = 0.0
  _M[2][1][6] = 0.0
  _M[2][1][7] = 0.0
  _M[2][1][8] = 0.0
  _M[2][2][1] = 0.0
  _M[2][2][2] = -(1.0*(324.0*N-312.0*D))/(144.0*dx[2]^2*N-32.0*dx[2]^2*D)
  _M[2][2][3] = 0.0
  _M[2][2][4] = 0.0
  _M[2][2][5] = -(1.0*(155.8845726811989*N+214.7743001385408*D))/(72.0*dx[2]^2*N-16.0*dx[2]^2*D)
  _M[2][2][6] = 0.0
  _M[2][2][7] = 0.0
  _M[2][2][8] = 0.0
  _M[2][3][1] = -(1.0*(394.907584125704*N+235.5589098293673*D))/(144.0*dx[2]^2*N-32.0*dx[2]^2*D)
  _M[2][3][2] = 0.0
  _M[2][3][3] = -(1.0*(846.0*N-524.0*D))/(72.0*dx[2]^2*N-16.0*dx[2]^2*D)
  _M[2][3][4] = 0.0
  _M[2][3][5] = 0.0
  _M[2][3][6] = 0.0
  _M[2][3][7] = 0.0
  _M[2][3][8] = 0.0
  _M[2][4][1] = 0.0
  _M[2][4][2] = 0.0
  _M[2][4][3] = 0.0
  _M[2][4][4] = -(1.0*(324.0*N-312.0*D))/(144.0*dx[2]^2*N-32.0*dx[2]^2*D)
  _M[2][4][5] = 0.0
  _M[2][4][6] = 0.0
  _M[2][4][7] = -(1.0*(155.8845726811989*N+214.7743001385408*D))/(72.0*dx[2]^2*N-16.0*dx[2]^2*D)
  _M[2][4][8] = 0.0
  _M[2][5][1] = 0.0
  _M[2][5][2] = -(1.0*(394.907584125704*N+235.5589098293673*D))/(144.0*dx[2]^2*N-32.0*dx[2]^2*D)
  _M[2][5][3] = 0.0
  _M[2][5][4] = 0.0
  _M[2][5][5] = -(1.0*(846.0*N-524.0*D))/(72.0*dx[2]^2*N-16.0*dx[2]^2*D)
  _M[2][5][6] = 0.0
  _M[2][5][7] = 0.0
  _M[2][5][8] = 0.0
  _M[2][6][1] = 0.0
  _M[2][6][2] = 0.0
  _M[2][6][3] = 0.0
  _M[2][6][4] = 0.0
  _M[2][6][5] = 0.0
  _M[2][6][6] = -(1.0*(324.0*N-312.0*D))/(144.0*dx[2]^2*N-32.0*dx[2]^2*D)
  _M[2][6][7] = 0.0
  _M[2][6][8] = -(1.0*(155.8845726811989*N+214.7743001385408*D))/(72.0*dx[2]^2*N-16.0*dx[2]^2*D)
  _M[2][7][1] = 0.0
  _M[2][7][2] = 0.0
  _M[2][7][3] = 0.0
  _M[2][7][4] = -(1.0*(394.907584125704*N+235.5589098293673*D))/(144.0*dx[2]^2*N-32.0*dx[2]^2*D)
  _M[2][7][5] = 0.0
  _M[2][7][6] = 0.0
  _M[2][7][7] = -(1.0*(846.0*N-524.0*D))/(72.0*dx[2]^2*N-16.0*dx[2]^2*D)
  _M[2][7][8] = 0.0
  _M[2][8][1] = 0.0
  _M[2][8][2] = 0.0
  _M[2][8][3] = 0.0
  _M[2][8][4] = 0.0
  _M[2][8][5] = 0.0
  _M[2][8][6] = -(1.0*(394.907584125704*N+235.5589098293673*D))/(144.0*dx[2]^2*N-32.0*dx[2]^2*D)
  _M[2][8][7] = 0.0
  _M[2][8][8] = -(1.0*(846.0*N-524.0*D))/(72.0*dx[2]^2*N-16.0*dx[2]^2*D)
  _M[3] = Lin.Mat(8,8)
  _M[3][1][1] = (324.0*N-24.0*D)/(144.0*dx[2]^2*N-32.0*dx[2]^2*D)
  _M[3][1][2] = 0.0
  _M[3][1][3] = -(1.0*(155.8845726811989*N-6.928203230275509*D))/(72.0*dx[2]^2*N-16.0*dx[2]^2*D)
  _M[3][1][4] = 0.0
  _M[3][1][5] = 0.0
  _M[3][1][6] = 0.0
  _M[3][1][7] = 0.0
  _M[3][1][8] = 0.0
  _M[3][2][1] = 0.0
  _M[3][2][2] = (324.0*N-24.0*D)/(144.0*dx[2]^2*N-32.0*dx[2]^2*D)
  _M[3][2][3] = 0.0
  _M[3][2][4] = 0.0
  _M[3][2][5] = -(1.0*(155.8845726811989*N-6.928203230275509*D))/(72.0*dx[2]^2*N-16.0*dx[2]^2*D)
  _M[3][2][6] = 0.0
  _M[3][2][7] = 0.0
  _M[3][2][8] = 0.0
  _M[3][3][1] = (394.907584125704*N-152.4204710660612*D)/(144.0*dx[2]^2*N-32.0*dx[2]^2*D)
  _M[3][3][2] = 0.0
  _M[3][3][3] = -(1.0*(174.0*N-76.0*D))/(72.0*dx[2]^2*N-16.0*dx[2]^2*D)
  _M[3][3][4] = 0.0
  _M[3][3][5] = 0.0
  _M[3][3][6] = 0.0
  _M[3][3][7] = 0.0
  _M[3][3][8] = 0.0
  _M[3][4][1] = 0.0
  _M[3][4][2] = 0.0
  _M[3][4][3] = 0.0
  _M[3][4][4] = (324.0*N-24.0*D)/(144.0*dx[2]^2*N-32.0*dx[2]^2*D)
  _M[3][4][5] = 0.0
  _M[3][4][6] = 0.0
  _M[3][4][7] = -(1.0*(155.8845726811989*N-6.928203230275509*D))/(72.0*dx[2]^2*N-16.0*dx[2]^2*D)
  _M[3][4][8] = 0.0
  _M[3][5][1] = 0.0
  _M[3][5][2] = (394.907584125704*N-152.4204710660612*D)/(144.0*dx[2]^2*N-32.0*dx[2]^2*D)
  _M[3][5][3] = 0.0
  _M[3][5][4] = 0.0
  _M[3][5][5] = -(1.0*(174.0*N-76.0*D))/(72.0*dx[2]^2*N-16.0*dx[2]^2*D)
  _M[3][5][6] = 0.0
  _M[3][5][7] = 0.0
  _M[3][5][8] = 0.0
  _M[3][6][1] = 0.0
  _M[3][6][2] = 0.0
  _M[3][6][3] = 0.0
  _M[3][6][4] = 0.0
  _M[3][6][5] = 0.0
  _M[3][6][6] = (324.0*N-24.0*D)/(144.0*dx[2]^2*N-32.0*dx[2]^2*D)
  _M[3][6][7] = 0.0
  _M[3][6][8] = -(1.0*(155.8845726811989*N-6.928203230275509*D))/(72.0*dx[2]^2*N-16.0*dx[2]^2*D)
  _M[3][7][1] = 0.0
  _M[3][7][2] = 0.0
  _M[3][7][3] = 0.0
  _M[3][7][4] = (394.907584125704*N-152.4204710660612*D)/(144.0*dx[2]^2*N-32.0*dx[2]^2*D)
  _M[3][7][5] = 0.0
  _M[3][7][6] = 0.0
  _M[3][7][7] = -(1.0*(174.0*N-76.0*D))/(72.0*dx[2]^2*N-16.0*dx[2]^2*D)
  _M[3][7][8] = 0.0
  _M[3][8][1] = 0.0
  _M[3][8][2] = 0.0
  _M[3][8][3] = 0.0
  _M[3][8][4] = 0.0
  _M[3][8][5] = 0.0
  _M[3][8][6] = (394.907584125704*N-152.4204710660612*D)/(144.0*dx[2]^2*N-32.0*dx[2]^2*D)
  _M[3][8][7] = 0.0
  _M[3][8][8] = -(1.0*(174.0*N-76.0*D))/(72.0*dx[2]^2*N-16.0*dx[2]^2*D)
  return(_M)
end

return(stencilFn)
